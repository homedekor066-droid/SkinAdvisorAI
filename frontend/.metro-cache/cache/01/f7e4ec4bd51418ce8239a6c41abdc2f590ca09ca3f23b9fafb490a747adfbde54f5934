{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":49,"index":139}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":26,"index":166}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('auth_token');\n        if (storedToken) {\n          setToken(storedToken);\n          await fetchUser(storedToken);\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const fetchUser = async authToken => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`\n          }\n        });\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to fetch user:', error);\n        await logout();\n      }\n    };\n    const login = async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('auth_token', access_token);\n      setToken(access_token);\n      setUser(userData);\n    };\n    const register = async (name, email, password, language = 'en') => {\n      const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n        name,\n        email,\n        password,\n        language\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('auth_token', access_token);\n      setToken(access_token);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('auth_token');\n      setToken(null);\n      setUser(null);\n    };\n    const updateProfile = async profile => {\n      if (!token) return;\n      const response = await axios.default.put(`${API_URL}/api/profile`, profile, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUser(response.data);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        await fetchUser(token);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout,\n        updateProfile,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":155,"map":[[28,2,34,0,"Object"],[28,8,34,0],[28,9,34,0,"defineProperty"],[28,23,34,0],[28,24,34,0,"exports"],[28,31,34,0],[29,4,34,0,"enumerable"],[29,14,34,0],[30,4,34,0,"get"],[30,7,34,0],[30,18,34,0,"get"],[30,19,34,0],[31,6,34,0],[31,13,34,0,"AuthProvider"],[31,25,34,0],[32,4,34,0],[33,2,34,0],[34,2,120,0,"Object"],[34,8,120,0],[34,9,120,0,"defineProperty"],[34,23,120,0],[34,24,120,0,"exports"],[34,31,120,0],[35,4,120,0,"enumerable"],[35,14,120,0],[36,4,120,0,"get"],[36,7,120,0],[36,18,120,0,"get"],[36,19,120,0],[37,6,120,0],[37,13,120,0,"useAuth"],[37,20,120,0],[38,4,120,0],[39,2,120,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_axios"],[43,12,3,0],[43,15,3,0,"require"],[43,22,3,0],[43,23,3,0,"_dependencyMap"],[43,37,3,0],[44,2,3,0],[44,6,3,0,"axios"],[44,11,3,0],[44,14,3,0,"_interopDefault"],[44,29,3,0],[44,30,3,0,"_axios"],[44,36,3,0],[45,2,3,26],[45,6,3,26,"_reactJsxDevRuntime"],[45,25,3,26],[45,28,3,26,"require"],[45,35,3,26],[45,36,3,26,"_dependencyMap"],[45,50,3,26],[46,2,5,0],[46,8,5,6,"API_URL"],[46,15,5,13],[46,18,5,16,"process"],[46,25,5,23],[46,26,5,24,"env"],[46,29,5,27],[46,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[46,53,5,51],[46,57,5,55],[46,59,5,57],[47,2,32,0],[47,8,32,6,"AuthContext"],[47,19,32,17],[47,35,32,20],[47,39,32,20,"createContext"],[47,45,32,33],[47,46,32,33,"createContext"],[47,59,32,33],[47,61,32,63,"undefined"],[47,70,32,72],[47,71,32,73],[48,2,34,7],[48,8,34,13,"AuthProvider"],[48,20,34,25],[48,23,34,28,"AuthProvider"],[48,24,34,29],[49,4,34,31,"children"],[50,2,34,65],[50,3,34,66],[50,8,34,71],[51,4,35,2],[51,10,35,8],[51,11,35,9,"user"],[51,15,35,13],[51,17,35,15,"setUser"],[51,24,35,22],[51,25,35,23],[51,28,35,26],[51,32,35,26,"useState"],[51,38,35,34],[51,39,35,34,"useState"],[51,47,35,34],[51,49,35,48],[51,53,35,52],[51,54,35,53],[52,4,36,2],[52,10,36,8],[52,11,36,9,"token"],[52,16,36,14],[52,18,36,16,"setToken"],[52,26,36,24],[52,27,36,25],[52,30,36,28],[52,34,36,28,"useState"],[52,40,36,36],[52,41,36,36,"useState"],[52,49,36,36],[52,51,36,52],[52,55,36,56],[52,56,36,57],[53,4,37,2],[53,10,37,8],[53,11,37,9,"isLoading"],[53,20,37,18],[53,22,37,20,"setIsLoading"],[53,34,37,32],[53,35,37,33],[53,38,37,36],[53,42,37,36,"useState"],[53,48,37,44],[53,49,37,44,"useState"],[53,57,37,44],[53,59,37,45],[53,63,37,49],[53,64,37,50],[54,4,39,2],[54,8,39,2,"useEffect"],[54,14,39,11],[54,15,39,11,"useEffect"],[54,24,39,11],[54,26,39,12],[54,32,39,18],[55,6,40,4,"loadStoredAuth"],[55,20,40,18],[55,21,40,19],[55,22,40,20],[56,4,41,2],[56,5,41,3],[56,7,41,5],[56,9,41,7],[56,10,41,8],[57,4,43,2],[57,10,43,8,"loadStoredAuth"],[57,24,43,22],[57,27,43,25],[57,33,43,25,"loadStoredAuth"],[57,34,43,25],[57,39,43,37],[58,6,44,4],[58,10,44,8],[59,8,45,6],[59,14,45,12,"storedToken"],[59,25,45,23],[59,28,45,26],[59,34,45,32,"SecureStore"],[59,45,45,43],[59,46,45,44,"getItemAsync"],[59,58,45,56],[59,59,45,57],[59,71,45,69],[59,72,45,70],[60,8,46,6],[60,12,46,10,"storedToken"],[60,23,46,21],[60,25,46,23],[61,10,47,8,"setToken"],[61,18,47,16],[61,19,47,17,"storedToken"],[61,30,47,28],[61,31,47,29],[62,10,48,8],[62,16,48,14,"fetchUser"],[62,25,48,23],[62,26,48,24,"storedToken"],[62,37,48,35],[62,38,48,36],[63,8,49,6],[64,6,50,4],[64,7,50,5],[64,8,50,6],[64,15,50,13,"error"],[64,20,50,18],[64,22,50,20],[65,8,51,6,"console"],[65,15,51,13],[65,16,51,14,"error"],[65,21,51,19],[65,22,51,20],[65,44,51,42],[65,46,51,44,"error"],[65,51,51,49],[65,52,51,50],[66,6,52,4],[66,7,52,5],[66,16,52,14],[67,8,53,6,"setIsLoading"],[67,20,53,18],[67,21,53,19],[67,26,53,24],[67,27,53,25],[68,6,54,4],[69,4,55,2],[69,5,55,3],[70,4,57,2],[70,10,57,8,"fetchUser"],[70,19,57,17],[70,22,57,20],[70,28,57,27,"authToken"],[70,37,57,44],[70,41,57,49],[71,6,58,4],[71,10,58,8],[72,8,59,6],[72,14,59,12,"response"],[72,22,59,20],[72,25,59,23],[72,31,59,29,"axios"],[72,36,59,34],[72,37,59,34,"default"],[72,44,59,34],[72,45,59,35,"get"],[72,48,59,38],[72,49,59,39],[72,52,59,42,"API_URL"],[72,59,59,49],[72,73,59,63],[72,75,59,65],[73,10,60,8,"headers"],[73,17,60,15],[73,19,60,17],[74,12,60,19,"Authorization"],[74,25,60,32],[74,27,60,34],[74,37,60,44,"authToken"],[74,46,60,53],[75,10,60,56],[76,8,61,6],[76,9,61,7],[76,10,61,8],[77,8,62,6,"setUser"],[77,15,62,13],[77,16,62,14,"response"],[77,24,62,22],[77,25,62,23,"data"],[77,29,62,27],[77,30,62,28],[78,6,63,4],[78,7,63,5],[78,8,63,6],[78,15,63,13,"error"],[78,20,63,18],[78,22,63,20],[79,8,64,6,"console"],[79,15,64,13],[79,16,64,14,"error"],[79,21,64,19],[79,22,64,20],[79,45,64,43],[79,47,64,45,"error"],[79,52,64,50],[79,53,64,51],[80,8,65,6],[80,14,65,12,"logout"],[80,20,65,18],[80,21,65,19],[80,22,65,20],[81,6,66,4],[82,4,67,2],[82,5,67,3],[83,4,69,2],[83,10,69,8,"login"],[83,15,69,13],[83,18,69,16],[83,24,69,16,"login"],[83,25,69,23,"email"],[83,30,69,36],[83,32,69,38,"password"],[83,40,69,54],[83,45,69,59],[84,6,70,4],[84,12,70,10,"response"],[84,20,70,18],[84,23,70,21],[84,29,70,27,"axios"],[84,34,70,32],[84,35,70,32,"default"],[84,42,70,32],[84,43,70,33,"post"],[84,47,70,37],[84,48,70,38],[84,51,70,41,"API_URL"],[84,58,70,48],[84,75,70,65],[84,77,70,67],[85,8,71,6,"email"],[85,13,71,11],[86,8,72,6,"password"],[87,6,73,4],[87,7,73,5],[87,8,73,6],[88,6,74,4],[88,12,74,10],[89,8,74,12,"access_token"],[89,20,74,24],[90,8,74,26,"user"],[90,12,74,30],[90,14,74,32,"userData"],[91,6,74,41],[91,7,74,42],[91,10,74,45,"response"],[91,18,74,53],[91,19,74,54,"data"],[91,23,74,58],[92,6,75,4],[92,12,75,10,"SecureStore"],[92,23,75,21],[92,24,75,22,"setItemAsync"],[92,36,75,34],[92,37,75,35],[92,49,75,47],[92,51,75,49,"access_token"],[92,63,75,61],[92,64,75,62],[93,6,76,4,"setToken"],[93,14,76,12],[93,15,76,13,"access_token"],[93,27,76,25],[93,28,76,26],[94,6,77,4,"setUser"],[94,13,77,11],[94,14,77,12,"userData"],[94,22,77,20],[94,23,77,21],[95,4,78,2],[95,5,78,3],[96,4,80,2],[96,10,80,8,"register"],[96,18,80,16],[96,21,80,19],[96,27,80,19,"register"],[96,28,80,26,"name"],[96,32,80,38],[96,34,80,40,"email"],[96,39,80,53],[96,41,80,55,"password"],[96,49,80,71],[96,51,80,73,"language"],[96,59,80,89],[96,62,80,92],[96,66,80,96],[96,71,80,101],[97,6,81,4],[97,12,81,10,"response"],[97,20,81,18],[97,23,81,21],[97,29,81,27,"axios"],[97,34,81,32],[97,35,81,32,"default"],[97,42,81,32],[97,43,81,33,"post"],[97,47,81,37],[97,48,81,38],[97,51,81,41,"API_URL"],[97,58,81,48],[97,78,81,68],[97,80,81,70],[98,8,82,6,"name"],[98,12,82,10],[99,8,83,6,"email"],[99,13,83,11],[100,8,84,6,"password"],[100,16,84,14],[101,8,85,6,"language"],[102,6,86,4],[102,7,86,5],[102,8,86,6],[103,6,87,4],[103,12,87,10],[104,8,87,12,"access_token"],[104,20,87,24],[105,8,87,26,"user"],[105,12,87,30],[105,14,87,32,"userData"],[106,6,87,41],[106,7,87,42],[106,10,87,45,"response"],[106,18,87,53],[106,19,87,54,"data"],[106,23,87,58],[107,6,88,4],[107,12,88,10,"SecureStore"],[107,23,88,21],[107,24,88,22,"setItemAsync"],[107,36,88,34],[107,37,88,35],[107,49,88,47],[107,51,88,49,"access_token"],[107,63,88,61],[107,64,88,62],[108,6,89,4,"setToken"],[108,14,89,12],[108,15,89,13,"access_token"],[108,27,89,25],[108,28,89,26],[109,6,90,4,"setUser"],[109,13,90,11],[109,14,90,12,"userData"],[109,22,90,20],[109,23,90,21],[110,4,91,2],[110,5,91,3],[111,4,93,2],[111,10,93,8,"logout"],[111,16,93,14],[111,19,93,17],[111,25,93,17,"logout"],[111,26,93,17],[111,31,93,29],[112,6,94,4],[112,12,94,10,"SecureStore"],[112,23,94,21],[112,24,94,22,"deleteItemAsync"],[112,39,94,37],[112,40,94,38],[112,52,94,50],[112,53,94,51],[113,6,95,4,"setToken"],[113,14,95,12],[113,15,95,13],[113,19,95,17],[113,20,95,18],[114,6,96,4,"setUser"],[114,13,96,11],[114,14,96,12],[114,18,96,16],[114,19,96,17],[115,4,97,2],[115,5,97,3],[116,4,99,2],[116,10,99,8,"updateProfile"],[116,23,99,21],[116,26,99,24],[116,32,99,31,"profile"],[116,39,99,43],[116,43,99,48],[117,6,100,4],[117,10,100,8],[117,11,100,9,"token"],[117,16,100,14],[117,18,100,16],[118,6,101,4],[118,12,101,10,"response"],[118,20,101,18],[118,23,101,21],[118,29,101,27,"axios"],[118,34,101,32],[118,35,101,32,"default"],[118,42,101,32],[118,43,101,33,"put"],[118,46,101,36],[118,47,101,37],[118,50,101,40,"API_URL"],[118,57,101,47],[118,71,101,61],[118,73,101,63,"profile"],[118,80,101,70],[118,82,101,72],[119,8,102,6,"headers"],[119,15,102,13],[119,17,102,15],[120,10,102,17,"Authorization"],[120,23,102,30],[120,25,102,32],[120,35,102,42,"token"],[120,40,102,47],[121,8,102,50],[122,6,103,4],[122,7,103,5],[122,8,103,6],[123,6,104,4,"setUser"],[123,13,104,11],[123,14,104,12,"response"],[123,22,104,20],[123,23,104,21,"data"],[123,27,104,25],[123,28,104,26],[124,4,105,2],[124,5,105,3],[125,4,107,2],[125,10,107,8,"refreshUser"],[125,21,107,19],[125,24,107,22],[125,30,107,22,"refreshUser"],[125,31,107,22],[125,36,107,34],[126,6,108,4],[126,10,108,8,"token"],[126,15,108,13],[126,17,108,15],[127,8,109,6],[127,14,109,12,"fetchUser"],[127,23,109,21],[127,24,109,22,"token"],[127,29,109,27],[127,30,109,28],[128,6,110,4],[129,4,111,2],[129,5,111,3],[130,4,113,2],[130,24,114,4],[130,28,114,4,"_reactJsxDevRuntime"],[130,47,114,4],[130,48,114,4,"jsxDEV"],[130,54,114,4],[130,56,114,5,"AuthContext"],[130,67,114,16],[130,68,114,17,"Provider"],[130,76,114,25],[131,6,114,26,"value"],[131,11,114,31],[131,13,114,33],[132,8,114,35,"user"],[132,12,114,39],[133,8,114,41,"token"],[133,13,114,46],[134,8,114,48,"isLoading"],[134,17,114,57],[135,8,114,59,"login"],[135,13,114,64],[136,8,114,66,"register"],[136,16,114,74],[137,8,114,76,"logout"],[137,14,114,82],[138,8,114,84,"updateProfile"],[138,21,114,97],[139,8,114,99,"refreshUser"],[140,6,114,111],[140,7,114,113],[141,6,114,113,"children"],[141,14,114,113],[141,16,115,7,"children"],[142,4,115,15],[143,6,115,15,"fileName"],[143,14,115,15],[143,16,115,15,"_jsxFileName"],[143,28,115,15],[144,6,115,15,"lineNumber"],[144,16,115,15],[145,6,115,15,"columnNumber"],[145,18,115,15],[146,4,115,15],[146,11,116,26],[146,12,116,27],[147,2,118,0],[147,3,118,1],[148,2,120,7],[148,8,120,13,"useAuth"],[148,15,120,20],[148,18,120,23,"useAuth"],[148,19,120,23],[148,24,120,29],[149,4,121,2],[149,10,121,8,"context"],[149,17,121,15],[149,20,121,18],[149,24,121,18,"useContext"],[149,30,121,28],[149,31,121,28,"useContext"],[149,41,121,28],[149,43,121,29,"AuthContext"],[149,54,121,40],[149,55,121,41],[150,4,122,2],[150,8,122,6],[150,9,122,7,"context"],[150,16,122,14],[150,18,122,16],[151,6,123,4],[151,12,123,10],[151,16,123,14,"Error"],[151,21,123,19],[151,22,123,20],[151,64,123,62],[151,65,123,63],[152,4,124,2],[153,4,125,2],[153,11,125,9,"context"],[153,18,125,16],[154,2,126,0],[154,3,126,1],[155,0,126,2],[155,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","fetchUser","login","register","logout","updateProfile","refreshUser","useAuth"],"mappings":"AAA;4BCiC;YCK;GDE;yBEE;GFY;oBGE;GHU;gBIE;GJS;mBKE;GLW;iBME;GNI;wBOE;GPM;sBQE;GRI;CDO;uBUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}