{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":49,"index":139}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":26,"index":166}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('auth_token');\n        if (storedToken) {\n          setToken(storedToken);\n          await fetchUser(storedToken);\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const fetchUser = async authToken => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`\n          }\n        });\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to fetch user:', error);\n        await logout();\n      }\n    };\n    const login = async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('auth_token', access_token);\n      setToken(access_token);\n      setUser(userData);\n    };\n    const register = async (name, email, password, language = 'en') => {\n      const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n        name,\n        email,\n        password,\n        language\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await SecureStore.setItemAsync('auth_token', access_token);\n      setToken(access_token);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('auth_token');\n      setToken(null);\n      setUser(null);\n    };\n    const updateProfile = async profile => {\n      if (!token) return;\n      const response = await axios.default.put(`${API_URL}/api/profile`, profile, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUser(response.data);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        await fetchUser(token);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout,\n        updateProfile,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":155,"map":[[28,2,36,0,"Object"],[28,8,36,0],[28,9,36,0,"defineProperty"],[28,23,36,0],[28,24,36,0,"exports"],[28,31,36,0],[29,4,36,0,"enumerable"],[29,14,36,0],[30,4,36,0,"get"],[30,7,36,0],[30,18,36,0,"get"],[30,19,36,0],[31,6,36,0],[31,13,36,0,"AuthProvider"],[31,25,36,0],[32,4,36,0],[33,2,36,0],[34,2,122,0,"Object"],[34,8,122,0],[34,9,122,0,"defineProperty"],[34,23,122,0],[34,24,122,0,"exports"],[34,31,122,0],[35,4,122,0,"enumerable"],[35,14,122,0],[36,4,122,0,"get"],[36,7,122,0],[36,18,122,0,"get"],[36,19,122,0],[37,6,122,0],[37,13,122,0,"useAuth"],[37,20,122,0],[38,4,122,0],[39,2,122,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_axios"],[43,12,3,0],[43,15,3,0,"require"],[43,22,3,0],[43,23,3,0,"_dependencyMap"],[43,37,3,0],[44,2,3,0],[44,6,3,0,"axios"],[44,11,3,0],[44,14,3,0,"_interopDefault"],[44,29,3,0],[44,30,3,0,"_axios"],[44,36,3,0],[45,2,3,26],[45,6,3,26,"_reactJsxDevRuntime"],[45,25,3,26],[45,28,3,26,"require"],[45,35,3,26],[45,36,3,26,"_dependencyMap"],[45,50,3,26],[46,2,5,0],[46,8,5,6,"API_URL"],[46,15,5,13],[46,18,5,16,"process"],[46,25,5,23],[46,26,5,24,"env"],[46,29,5,27],[46,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[46,53,5,51],[46,57,5,55],[46,59,5,57],[47,2,34,0],[47,8,34,6,"AuthContext"],[47,19,34,17],[47,35,34,20],[47,39,34,20,"createContext"],[47,45,34,33],[47,46,34,33,"createContext"],[47,59,34,33],[47,61,34,63,"undefined"],[47,70,34,72],[47,71,34,73],[48,2,36,7],[48,8,36,13,"AuthProvider"],[48,20,36,25],[48,23,36,28,"AuthProvider"],[48,24,36,29],[49,4,36,31,"children"],[50,2,36,65],[50,3,36,66],[50,8,36,71],[51,4,37,2],[51,10,37,8],[51,11,37,9,"user"],[51,15,37,13],[51,17,37,15,"setUser"],[51,24,37,22],[51,25,37,23],[51,28,37,26],[51,32,37,26,"useState"],[51,38,37,34],[51,39,37,34,"useState"],[51,47,37,34],[51,49,37,48],[51,53,37,52],[51,54,37,53],[52,4,38,2],[52,10,38,8],[52,11,38,9,"token"],[52,16,38,14],[52,18,38,16,"setToken"],[52,26,38,24],[52,27,38,25],[52,30,38,28],[52,34,38,28,"useState"],[52,40,38,36],[52,41,38,36,"useState"],[52,49,38,36],[52,51,38,52],[52,55,38,56],[52,56,38,57],[53,4,39,2],[53,10,39,8],[53,11,39,9,"isLoading"],[53,20,39,18],[53,22,39,20,"setIsLoading"],[53,34,39,32],[53,35,39,33],[53,38,39,36],[53,42,39,36,"useState"],[53,48,39,44],[53,49,39,44,"useState"],[53,57,39,44],[53,59,39,45],[53,63,39,49],[53,64,39,50],[54,4,41,2],[54,8,41,2,"useEffect"],[54,14,41,11],[54,15,41,11,"useEffect"],[54,24,41,11],[54,26,41,12],[54,32,41,18],[55,6,42,4,"loadStoredAuth"],[55,20,42,18],[55,21,42,19],[55,22,42,20],[56,4,43,2],[56,5,43,3],[56,7,43,5],[56,9,43,7],[56,10,43,8],[57,4,45,2],[57,10,45,8,"loadStoredAuth"],[57,24,45,22],[57,27,45,25],[57,33,45,25,"loadStoredAuth"],[57,34,45,25],[57,39,45,37],[58,6,46,4],[58,10,46,8],[59,8,47,6],[59,14,47,12,"storedToken"],[59,25,47,23],[59,28,47,26],[59,34,47,32,"SecureStore"],[59,45,47,43],[59,46,47,44,"getItemAsync"],[59,58,47,56],[59,59,47,57],[59,71,47,69],[59,72,47,70],[60,8,48,6],[60,12,48,10,"storedToken"],[60,23,48,21],[60,25,48,23],[61,10,49,8,"setToken"],[61,18,49,16],[61,19,49,17,"storedToken"],[61,30,49,28],[61,31,49,29],[62,10,50,8],[62,16,50,14,"fetchUser"],[62,25,50,23],[62,26,50,24,"storedToken"],[62,37,50,35],[62,38,50,36],[63,8,51,6],[64,6,52,4],[64,7,52,5],[64,8,52,6],[64,15,52,13,"error"],[64,20,52,18],[64,22,52,20],[65,8,53,6,"console"],[65,15,53,13],[65,16,53,14,"error"],[65,21,53,19],[65,22,53,20],[65,44,53,42],[65,46,53,44,"error"],[65,51,53,49],[65,52,53,50],[66,6,54,4],[66,7,54,5],[66,16,54,14],[67,8,55,6,"setIsLoading"],[67,20,55,18],[67,21,55,19],[67,26,55,24],[67,27,55,25],[68,6,56,4],[69,4,57,2],[69,5,57,3],[70,4,59,2],[70,10,59,8,"fetchUser"],[70,19,59,17],[70,22,59,20],[70,28,59,27,"authToken"],[70,37,59,44],[70,41,59,49],[71,6,60,4],[71,10,60,8],[72,8,61,6],[72,14,61,12,"response"],[72,22,61,20],[72,25,61,23],[72,31,61,29,"axios"],[72,36,61,34],[72,37,61,34,"default"],[72,44,61,34],[72,45,61,35,"get"],[72,48,61,38],[72,49,61,39],[72,52,61,42,"API_URL"],[72,59,61,49],[72,73,61,63],[72,75,61,65],[73,10,62,8,"headers"],[73,17,62,15],[73,19,62,17],[74,12,62,19,"Authorization"],[74,25,62,32],[74,27,62,34],[74,37,62,44,"authToken"],[74,46,62,53],[75,10,62,56],[76,8,63,6],[76,9,63,7],[76,10,63,8],[77,8,64,6,"setUser"],[77,15,64,13],[77,16,64,14,"response"],[77,24,64,22],[77,25,64,23,"data"],[77,29,64,27],[77,30,64,28],[78,6,65,4],[78,7,65,5],[78,8,65,6],[78,15,65,13,"error"],[78,20,65,18],[78,22,65,20],[79,8,66,6,"console"],[79,15,66,13],[79,16,66,14,"error"],[79,21,66,19],[79,22,66,20],[79,45,66,43],[79,47,66,45,"error"],[79,52,66,50],[79,53,66,51],[80,8,67,6],[80,14,67,12,"logout"],[80,20,67,18],[80,21,67,19],[80,22,67,20],[81,6,68,4],[82,4,69,2],[82,5,69,3],[83,4,71,2],[83,10,71,8,"login"],[83,15,71,13],[83,18,71,16],[83,24,71,16,"login"],[83,25,71,23,"email"],[83,30,71,36],[83,32,71,38,"password"],[83,40,71,54],[83,45,71,59],[84,6,72,4],[84,12,72,10,"response"],[84,20,72,18],[84,23,72,21],[84,29,72,27,"axios"],[84,34,72,32],[84,35,72,32,"default"],[84,42,72,32],[84,43,72,33,"post"],[84,47,72,37],[84,48,72,38],[84,51,72,41,"API_URL"],[84,58,72,48],[84,75,72,65],[84,77,72,67],[85,8,73,6,"email"],[85,13,73,11],[86,8,74,6,"password"],[87,6,75,4],[87,7,75,5],[87,8,75,6],[88,6,76,4],[88,12,76,10],[89,8,76,12,"access_token"],[89,20,76,24],[90,8,76,26,"user"],[90,12,76,30],[90,14,76,32,"userData"],[91,6,76,41],[91,7,76,42],[91,10,76,45,"response"],[91,18,76,53],[91,19,76,54,"data"],[91,23,76,58],[92,6,77,4],[92,12,77,10,"SecureStore"],[92,23,77,21],[92,24,77,22,"setItemAsync"],[92,36,77,34],[92,37,77,35],[92,49,77,47],[92,51,77,49,"access_token"],[92,63,77,61],[92,64,77,62],[93,6,78,4,"setToken"],[93,14,78,12],[93,15,78,13,"access_token"],[93,27,78,25],[93,28,78,26],[94,6,79,4,"setUser"],[94,13,79,11],[94,14,79,12,"userData"],[94,22,79,20],[94,23,79,21],[95,4,80,2],[95,5,80,3],[96,4,82,2],[96,10,82,8,"register"],[96,18,82,16],[96,21,82,19],[96,27,82,19,"register"],[96,28,82,26,"name"],[96,32,82,38],[96,34,82,40,"email"],[96,39,82,53],[96,41,82,55,"password"],[96,49,82,71],[96,51,82,73,"language"],[96,59,82,89],[96,62,82,92],[96,66,82,96],[96,71,82,101],[97,6,83,4],[97,12,83,10,"response"],[97,20,83,18],[97,23,83,21],[97,29,83,27,"axios"],[97,34,83,32],[97,35,83,32,"default"],[97,42,83,32],[97,43,83,33,"post"],[97,47,83,37],[97,48,83,38],[97,51,83,41,"API_URL"],[97,58,83,48],[97,78,83,68],[97,80,83,70],[98,8,84,6,"name"],[98,12,84,10],[99,8,85,6,"email"],[99,13,85,11],[100,8,86,6,"password"],[100,16,86,14],[101,8,87,6,"language"],[102,6,88,4],[102,7,88,5],[102,8,88,6],[103,6,89,4],[103,12,89,10],[104,8,89,12,"access_token"],[104,20,89,24],[105,8,89,26,"user"],[105,12,89,30],[105,14,89,32,"userData"],[106,6,89,41],[106,7,89,42],[106,10,89,45,"response"],[106,18,89,53],[106,19,89,54,"data"],[106,23,89,58],[107,6,90,4],[107,12,90,10,"SecureStore"],[107,23,90,21],[107,24,90,22,"setItemAsync"],[107,36,90,34],[107,37,90,35],[107,49,90,47],[107,51,90,49,"access_token"],[107,63,90,61],[107,64,90,62],[108,6,91,4,"setToken"],[108,14,91,12],[108,15,91,13,"access_token"],[108,27,91,25],[108,28,91,26],[109,6,92,4,"setUser"],[109,13,92,11],[109,14,92,12,"userData"],[109,22,92,20],[109,23,92,21],[110,4,93,2],[110,5,93,3],[111,4,95,2],[111,10,95,8,"logout"],[111,16,95,14],[111,19,95,17],[111,25,95,17,"logout"],[111,26,95,17],[111,31,95,29],[112,6,96,4],[112,12,96,10,"SecureStore"],[112,23,96,21],[112,24,96,22,"deleteItemAsync"],[112,39,96,37],[112,40,96,38],[112,52,96,50],[112,53,96,51],[113,6,97,4,"setToken"],[113,14,97,12],[113,15,97,13],[113,19,97,17],[113,20,97,18],[114,6,98,4,"setUser"],[114,13,98,11],[114,14,98,12],[114,18,98,16],[114,19,98,17],[115,4,99,2],[115,5,99,3],[116,4,101,2],[116,10,101,8,"updateProfile"],[116,23,101,21],[116,26,101,24],[116,32,101,31,"profile"],[116,39,101,43],[116,43,101,48],[117,6,102,4],[117,10,102,8],[117,11,102,9,"token"],[117,16,102,14],[117,18,102,16],[118,6,103,4],[118,12,103,10,"response"],[118,20,103,18],[118,23,103,21],[118,29,103,27,"axios"],[118,34,103,32],[118,35,103,32,"default"],[118,42,103,32],[118,43,103,33,"put"],[118,46,103,36],[118,47,103,37],[118,50,103,40,"API_URL"],[118,57,103,47],[118,71,103,61],[118,73,103,63,"profile"],[118,80,103,70],[118,82,103,72],[119,8,104,6,"headers"],[119,15,104,13],[119,17,104,15],[120,10,104,17,"Authorization"],[120,23,104,30],[120,25,104,32],[120,35,104,42,"token"],[120,40,104,47],[121,8,104,50],[122,6,105,4],[122,7,105,5],[122,8,105,6],[123,6,106,4,"setUser"],[123,13,106,11],[123,14,106,12,"response"],[123,22,106,20],[123,23,106,21,"data"],[123,27,106,25],[123,28,106,26],[124,4,107,2],[124,5,107,3],[125,4,109,2],[125,10,109,8,"refreshUser"],[125,21,109,19],[125,24,109,22],[125,30,109,22,"refreshUser"],[125,31,109,22],[125,36,109,34],[126,6,110,4],[126,10,110,8,"token"],[126,15,110,13],[126,17,110,15],[127,8,111,6],[127,14,111,12,"fetchUser"],[127,23,111,21],[127,24,111,22,"token"],[127,29,111,27],[127,30,111,28],[128,6,112,4],[129,4,113,2],[129,5,113,3],[130,4,115,2],[130,24,116,4],[130,28,116,4,"_reactJsxDevRuntime"],[130,47,116,4],[130,48,116,4,"jsxDEV"],[130,54,116,4],[130,56,116,5,"AuthContext"],[130,67,116,16],[130,68,116,17,"Provider"],[130,76,116,25],[131,6,116,26,"value"],[131,11,116,31],[131,13,116,33],[132,8,116,35,"user"],[132,12,116,39],[133,8,116,41,"token"],[133,13,116,46],[134,8,116,48,"isLoading"],[134,17,116,57],[135,8,116,59,"login"],[135,13,116,64],[136,8,116,66,"register"],[136,16,116,74],[137,8,116,76,"logout"],[137,14,116,82],[138,8,116,84,"updateProfile"],[138,21,116,97],[139,8,116,99,"refreshUser"],[140,6,116,111],[140,7,116,113],[141,6,116,113,"children"],[141,14,116,113],[141,16,117,7,"children"],[142,4,117,15],[143,6,117,15,"fileName"],[143,14,117,15],[143,16,117,15,"_jsxFileName"],[143,28,117,15],[144,6,117,15,"lineNumber"],[144,16,117,15],[145,6,117,15,"columnNumber"],[145,18,117,15],[146,4,117,15],[146,11,118,26],[146,12,118,27],[147,2,120,0],[147,3,120,1],[148,2,122,7],[148,8,122,13,"useAuth"],[148,15,122,20],[148,18,122,23,"useAuth"],[148,19,122,23],[148,24,122,29],[149,4,123,2],[149,10,123,8,"context"],[149,17,123,15],[149,20,123,18],[149,24,123,18,"useContext"],[149,30,123,28],[149,31,123,28,"useContext"],[149,41,123,28],[149,43,123,29,"AuthContext"],[149,54,123,40],[149,55,123,41],[150,4,124,2],[150,8,124,6],[150,9,124,7,"context"],[150,16,124,14],[150,18,124,16],[151,6,125,4],[151,12,125,10],[151,16,125,14,"Error"],[151,21,125,19],[151,22,125,20],[151,64,125,62],[151,65,125,63],[152,4,126,2],[153,4,127,2],[153,11,127,9,"context"],[153,18,127,16],[154,2,128,0],[154,3,128,1],[155,0,128,2],[155,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","fetchUser","login","register","logout","updateProfile","refreshUser","useAuth"],"mappings":"AAA;4BCmC;YCK;GDE;yBEE;GFY;oBGE;GHU;gBIE;GJS;mBKE;GLW;iBME;GNI;wBOE;GPM;sBQE;GRI;CDO;uBUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}