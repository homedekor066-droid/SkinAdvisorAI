{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-apple-authentication","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":65,"index":113}}],"key":"mRJXTzcWO44groSshK5EmK3GSiY=","exportNames":["*"],"imports":1}},{"name":"expo-web-browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":114},"end":{"line":3,"column":47,"index":161}}],"key":"qFWzf28Sq0474idIhFBHQFboHaY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"socialAuthService\", {\n    enumerable: true,\n    get: function () {\n      return socialAuthService;\n    }\n  });\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoAppleAuthentication = require(_dependencyMap[1], \"expo-apple-authentication\");\n  var AppleAuthentication = _interopNamespace(_expoAppleAuthentication);\n  var _expoWebBrowser = require(_dependencyMap[2], \"expo-web-browser\");\n  var WebBrowser = _interopNamespace(_expoWebBrowser);\n  // Ensure web browser can complete auth session\n  WebBrowser.maybeCompleteAuthSession();\n\n  // Google OAuth Configuration - You need BOTH Web AND iOS client IDs\n  // Web Client ID (for Expo Go and web)\n  const GOOGLE_WEB_CLIENT_ID = '993166704619-53mfiq1gbd8s0u1h6p5n14om3t3hd13t.apps.googleusercontent.com';\n\n  // iOS Client ID - NEEDS TO BE CREATED in Google Cloud Console\n  // Go to: https://console.cloud.google.com/apis/credentials\n  // Create OAuth 2.0 Client ID -> iOS -> Bundle ID: com.skinadvisor.ai\n  const GOOGLE_IOS_CLIENT_ID = ''; // You need to create this!\n\n  class SocialAuthService {\n    /**\n     * Sign in with Google\n     * NOTE: For this to work on iOS, you need to create an iOS OAuth Client ID\n     */\n    async signInWithGoogle() {\n      try {\n        // Show alert explaining the setup needed\n        if (Platform.default.OS === 'ios' && !GOOGLE_IOS_CLIENT_ID) {\n          return {\n            success: false,\n            provider: 'google',\n            error: 'Google Sign-In requires iOS Client ID setup. Please follow the setup guide.'\n          };\n        }\n        return {\n          success: false,\n          provider: 'google',\n          error: 'Google Sign-In is being configured. Please use email login for now.'\n        };\n      } catch (error) {\n        console.error('[SocialAuth] Google sign-in error:', error);\n        return {\n          success: false,\n          provider: 'google',\n          error: error.message || 'Google sign-in failed'\n        };\n      }\n    }\n\n    /**\n     * Sign in with Apple (iOS 13+ only)\n     */\n    async signInWithApple() {\n      try {\n        // Check if Apple authentication is available\n        const isAvailable = await AppleAuthentication.isAvailableAsync();\n        if (!isAvailable) {\n          return {\n            success: false,\n            provider: 'apple',\n            error: 'Apple Sign In is only available on iOS 13+ devices'\n          };\n        }\n\n        // Request authentication\n        const credential = await AppleAuthentication.signInAsync({\n          requestedScopes: [AppleAuthentication.AppleAuthenticationScope.FULL_NAME, AppleAuthentication.AppleAuthenticationScope.EMAIL]\n        });\n\n        // Extract user info\n        const {\n          user,\n          email,\n          fullName,\n          identityToken\n        } = credential;\n\n        // Construct the name if provided (Apple only sends name on FIRST sign-in)\n        let name = null;\n        if (fullName) {\n          const nameParts = [fullName.givenName, fullName.familyName].filter(Boolean);\n          name = nameParts.length > 0 ? nameParts.join(' ') : null;\n        }\n        return {\n          success: true,\n          provider: 'apple',\n          user: {\n            id: user,\n            email: email,\n            name: name || 'Apple User'\n          },\n          idToken: identityToken || undefined\n        };\n      } catch (error) {\n        console.error('[SocialAuth] Apple sign-in error:', error);\n        if (error.code === 'ERR_REQUEST_CANCELED' || error.code === 'ERR_CANCELED') {\n          return {\n            success: false,\n            provider: 'apple',\n            error: 'User cancelled'\n          };\n        }\n        return {\n          success: false,\n          provider: 'apple',\n          error: error.message || 'Apple sign-in failed'\n        };\n      }\n    }\n\n    /**\n     * Check if Apple Sign In is available\n     */\n    async isAppleSignInAvailable() {\n      try {\n        return await AppleAuthentication.isAvailableAsync();\n      } catch {\n        return false;\n      }\n    }\n  }\n  const socialAuthService = new SocialAuthService();\n});","lineCount":154,"map":[[27,2,138,0,"Object"],[27,8,138,0],[27,9,138,0,"defineProperty"],[27,23,138,0],[27,24,138,0,"exports"],[27,31,138,0],[28,4,138,0,"enumerable"],[28,14,138,0],[29,4,138,0,"get"],[29,7,138,0],[29,18,138,0,"get"],[29,19,138,0],[30,6,138,0],[30,13,138,0,"socialAuthService"],[30,30,138,0],[31,4,138,0],[32,2,138,0],[33,2,138,57],[33,6,138,57,"_reactNativeWebDistExportsPlatform"],[33,40,138,57],[33,43,138,57,"require"],[33,50,138,57],[33,51,138,57,"_dependencyMap"],[33,65,138,57],[34,2,138,57],[34,6,138,57,"Platform"],[34,14,138,57],[34,17,138,57,"_interopDefault"],[34,32,138,57],[34,33,138,57,"_reactNativeWebDistExportsPlatform"],[34,67,138,57],[35,2,2,0],[35,6,2,0,"_expoAppleAuthentication"],[35,30,2,0],[35,33,2,0,"require"],[35,40,2,0],[35,41,2,0,"_dependencyMap"],[35,55,2,0],[36,2,2,0],[36,6,2,0,"AppleAuthentication"],[36,25,2,0],[36,28,2,0,"_interopNamespace"],[36,45,2,0],[36,46,2,0,"_expoAppleAuthentication"],[36,70,2,0],[37,2,3,0],[37,6,3,0,"_expoWebBrowser"],[37,21,3,0],[37,24,3,0,"require"],[37,31,3,0],[37,32,3,0,"_dependencyMap"],[37,46,3,0],[38,2,3,0],[38,6,3,0,"WebBrowser"],[38,16,3,0],[38,19,3,0,"_interopNamespace"],[38,36,3,0],[38,37,3,0,"_expoWebBrowser"],[38,52,3,0],[39,2,7,0],[40,2,8,0,"WebBrowser"],[40,12,8,10],[40,13,8,11,"maybeCompleteAuthSession"],[40,37,8,35],[40,38,8,36],[40,39,8,37],[42,2,10,0],[43,2,11,0],[44,2,12,0],[44,8,12,6,"GOOGLE_WEB_CLIENT_ID"],[44,28,12,26],[44,31,12,29],[44,105,12,103],[46,2,14,0],[47,2,15,0],[48,2,16,0],[49,2,17,0],[49,8,17,6,"GOOGLE_IOS_CLIENT_ID"],[49,28,17,26],[49,31,17,29],[49,33,17,31],[49,34,17,32],[49,35,17,33],[51,2,32,0],[51,8,32,6,"SocialAuthService"],[51,25,32,23],[51,26,32,24],[52,4,33,2],[53,0,34,0],[54,0,35,0],[55,0,36,0],[56,4,37,2],[56,10,37,8,"signInWithGoogle"],[56,26,37,24,"signInWithGoogle"],[56,27,37,24],[56,29,37,54],[57,6,38,4],[57,10,38,8],[58,8,39,6],[59,8,40,6],[59,12,40,10,"Platform"],[59,20,40,18],[59,21,40,18,"default"],[59,28,40,18],[59,29,40,19,"OS"],[59,31,40,21],[59,36,40,26],[59,41,40,31],[59,45,40,35],[59,46,40,36,"GOOGLE_IOS_CLIENT_ID"],[59,66,40,56],[59,68,40,58],[60,10,41,8],[60,17,41,15],[61,12,42,10,"success"],[61,19,42,17],[61,21,42,19],[61,26,42,24],[62,12,43,10,"provider"],[62,20,43,18],[62,22,43,20],[62,30,43,28],[63,12,44,10,"error"],[63,17,44,15],[63,19,44,17],[64,10,45,8],[64,11,45,9],[65,8,46,6],[66,8,48,6],[66,15,48,13],[67,10,49,8,"success"],[67,17,49,15],[67,19,49,17],[67,24,49,22],[68,10,50,8,"provider"],[68,18,50,16],[68,20,50,18],[68,28,50,26],[69,10,51,8,"error"],[69,15,51,13],[69,17,51,15],[70,8,52,6],[70,9,52,7],[71,6,53,4],[71,7,53,5],[71,8,53,6],[71,15,53,13,"error"],[71,20,53,23],[71,22,53,25],[72,8,54,6,"console"],[72,15,54,13],[72,16,54,14,"error"],[72,21,54,19],[72,22,54,20],[72,58,54,56],[72,60,54,58,"error"],[72,65,54,63],[72,66,54,64],[73,8,55,6],[73,15,55,13],[74,10,56,8,"success"],[74,17,56,15],[74,19,56,17],[74,24,56,22],[75,10,57,8,"provider"],[75,18,57,16],[75,20,57,18],[75,28,57,26],[76,10,58,8,"error"],[76,15,58,13],[76,17,58,15,"error"],[76,22,58,20],[76,23,58,21,"message"],[76,30,58,28],[76,34,58,32],[77,8,59,6],[77,9,59,7],[78,6,60,4],[79,4,61,2],[81,4,63,2],[82,0,64,0],[83,0,65,0],[84,4,66,2],[84,10,66,8,"signInWithApple"],[84,25,66,23,"signInWithApple"],[84,26,66,23],[84,28,66,53],[85,6,67,4],[85,10,67,8],[86,8,68,6],[87,8,69,6],[87,14,69,12,"isAvailable"],[87,25,69,23],[87,28,69,26],[87,34,69,32,"AppleAuthentication"],[87,53,69,51],[87,54,69,52,"isAvailableAsync"],[87,70,69,68],[87,71,69,69],[87,72,69,70],[88,8,71,6],[88,12,71,10],[88,13,71,11,"isAvailable"],[88,24,71,22],[88,26,71,24],[89,10,72,8],[89,17,72,15],[90,12,73,10,"success"],[90,19,73,17],[90,21,73,19],[90,26,73,24],[91,12,74,10,"provider"],[91,20,74,18],[91,22,74,20],[91,29,74,27],[92,12,75,10,"error"],[92,17,75,15],[92,19,75,17],[93,10,76,8],[93,11,76,9],[94,8,77,6],[96,8,79,6],[97,8,80,6],[97,14,80,12,"credential"],[97,24,80,22],[97,27,80,25],[97,33,80,31,"AppleAuthentication"],[97,52,80,50],[97,53,80,51,"signInAsync"],[97,64,80,62],[97,65,80,63],[98,10,81,8,"requestedScopes"],[98,25,81,23],[98,27,81,25],[98,28,82,10,"AppleAuthentication"],[98,47,82,29],[98,48,82,30,"AppleAuthenticationScope"],[98,72,82,54],[98,73,82,55,"FULL_NAME"],[98,82,82,64],[98,84,83,10,"AppleAuthentication"],[98,103,83,29],[98,104,83,30,"AppleAuthenticationScope"],[98,128,83,54],[98,129,83,55,"EMAIL"],[98,134,83,60],[99,8,85,6],[99,9,85,7],[99,10,85,8],[101,8,87,6],[102,8,88,6],[102,14,88,12],[103,10,88,14,"user"],[103,14,88,18],[104,10,88,20,"email"],[104,15,88,25],[105,10,88,27,"fullName"],[105,18,88,35],[106,10,88,37,"identityToken"],[107,8,88,51],[107,9,88,52],[107,12,88,55,"credential"],[107,22,88,65],[109,8,90,6],[110,8,91,6],[110,12,91,10,"name"],[110,16,91,29],[110,19,91,32],[110,23,91,36],[111,8,92,6],[111,12,92,10,"fullName"],[111,20,92,18],[111,22,92,20],[112,10,93,8],[112,16,93,14,"nameParts"],[112,25,93,23],[112,28,93,26],[112,29,93,27,"fullName"],[112,37,93,35],[112,38,93,36,"givenName"],[112,47,93,45],[112,49,93,47,"fullName"],[112,57,93,55],[112,58,93,56,"familyName"],[112,68,93,66],[112,69,93,67],[112,70,93,68,"filter"],[112,76,93,74],[112,77,93,75,"Boolean"],[112,84,93,82],[112,85,93,83],[113,10,94,8,"name"],[113,14,94,12],[113,17,94,15,"nameParts"],[113,26,94,24],[113,27,94,25,"length"],[113,33,94,31],[113,36,94,34],[113,37,94,35],[113,40,94,38,"nameParts"],[113,49,94,47],[113,50,94,48,"join"],[113,54,94,52],[113,55,94,53],[113,58,94,56],[113,59,94,57],[113,62,94,60],[113,66,94,64],[114,8,95,6],[115,8,97,6],[115,15,97,13],[116,10,98,8,"success"],[116,17,98,15],[116,19,98,17],[116,23,98,21],[117,10,99,8,"provider"],[117,18,99,16],[117,20,99,18],[117,27,99,25],[118,10,100,8,"user"],[118,14,100,12],[118,16,100,14],[119,12,101,10,"id"],[119,14,101,12],[119,16,101,14,"user"],[119,20,101,18],[120,12,102,10,"email"],[120,17,102,15],[120,19,102,17,"email"],[120,24,102,22],[121,12,103,10,"name"],[121,16,103,14],[121,18,103,16,"name"],[121,22,103,20],[121,26,103,24],[122,10,104,8],[122,11,104,9],[123,10,105,8,"idToken"],[123,17,105,15],[123,19,105,17,"identityToken"],[123,32,105,30],[123,36,105,34,"undefined"],[124,8,106,6],[124,9,106,7],[125,6,107,4],[125,7,107,5],[125,8,107,6],[125,15,107,13,"error"],[125,20,107,23],[125,22,107,25],[126,8,108,6,"console"],[126,15,108,13],[126,16,108,14,"error"],[126,21,108,19],[126,22,108,20],[126,57,108,55],[126,59,108,57,"error"],[126,64,108,62],[126,65,108,63],[127,8,110,6],[127,12,110,10,"error"],[127,17,110,15],[127,18,110,16,"code"],[127,22,110,20],[127,27,110,25],[127,49,110,47],[127,53,110,51,"error"],[127,58,110,56],[127,59,110,57,"code"],[127,63,110,61],[127,68,110,66],[127,82,110,80],[127,84,110,82],[128,10,111,8],[128,17,111,15],[129,12,112,10,"success"],[129,19,112,17],[129,21,112,19],[129,26,112,24],[130,12,113,10,"provider"],[130,20,113,18],[130,22,113,20],[130,29,113,27],[131,12,114,10,"error"],[131,17,114,15],[131,19,114,17],[132,10,115,8],[132,11,115,9],[133,8,116,6],[134,8,118,6],[134,15,118,13],[135,10,119,8,"success"],[135,17,119,15],[135,19,119,17],[135,24,119,22],[136,10,120,8,"provider"],[136,18,120,16],[136,20,120,18],[136,27,120,25],[137,10,121,8,"error"],[137,15,121,13],[137,17,121,15,"error"],[137,22,121,20],[137,23,121,21,"message"],[137,30,121,28],[137,34,121,32],[138,8,122,6],[138,9,122,7],[139,6,123,4],[140,4,124,2],[142,4,126,2],[143,0,127,0],[144,0,128,0],[145,4,129,2],[145,10,129,8,"isAppleSignInAvailable"],[145,32,129,30,"isAppleSignInAvailable"],[145,33,129,30],[145,35,129,51],[146,6,130,4],[146,10,130,8],[147,8,131,6],[147,15,131,13],[147,21,131,19,"AppleAuthentication"],[147,40,131,38],[147,41,131,39,"isAvailableAsync"],[147,57,131,55],[147,58,131,56],[147,59,131,57],[148,6,132,4],[148,7,132,5],[148,8,132,6],[148,14,132,12],[149,8,133,6],[149,15,133,13],[149,20,133,18],[150,6,134,4],[151,4,135,2],[152,2,136,0],[153,2,138,7],[153,8,138,13,"socialAuthService"],[153,25,138,30],[153,28,138,33],[153,32,138,37,"SocialAuthService"],[153,49,138,54],[153,50,138,55],[153,51,138,56],[154,0,138,57],[154,3]],"functionMap":{"names":["<global>","SocialAuthService","SocialAuthService#signInWithGoogle","SocialAuthService#signInWithApple","SocialAuthService#isAppleSignInAvailable"],"mappings":"AAA;AC+B;ECK;GDwB;EEK;GF0D;EGK;GHM;CDC"},"hasCjsExports":false},"type":"js/module"}]}